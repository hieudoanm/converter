"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[403],{403:(e,r,t)=>{t.r(r),t.d(r,{default:()=>f});var l=t(4513),a=t(6434),i=t(5137),n=t(5552),o=t(4285),s=t(1508),d=t(2432),c=t(7916),h=t(554),u=t(5140);s.EA.workerSrc="".concat("/editor","/workers/pdf.worker.min.js");let f=()=>{let[{redactions:e={},redoStack:r={},file:t=null,numberOfPages:s=0,scale:f=1.5},p]=(0,o.useState)({redactions:{},redoStack:{},file:null,numberOfPages:0,scale:1.5}),b=(0,o.useRef)({}),g=async()=>{if(!t)return;let r=await t.arrayBuffer(),l=await n.PDFDocument.load(r);Object.entries(e).forEach(e=>{let[r,t]=e,a=Number(r),i=l.getPage(a);t.forEach(e=>{let{x:r,y:t,width:l,height:a}=e;i.drawRectangle({x:r,y:i.getHeight()-t-a,width:l,height:a,color:(0,n.rgb)(0,0,0)})})});let a=(await l.save()).slice().buffer;(0,i.saveAs)(new Blob([a],{type:"application/pdf"}),"redacted.pdf")};return(0,l.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,l.jsx)(h.F,{}),(0,l.jsx)(u.c,{}),(0,l.jsxs)("div",{className:"mt-8 flex justify-center gap-4",children:[(0,l.jsxs)("label",{className:"inline-block cursor-pointer rounded-full border border-neutral-800 px-6 py-3",children:[(0,l.jsx)("span",{children:"Upload PDF"}),(0,l.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>{var r;let t=null==(r=e.target.files)?void 0:r[0];t&&p(e=>({...e,file:t,redactions:{},redoStack:{}}))},className:"hidden"})]}),t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{type:"button",onClick:()=>{let r=Object.entries(e).filter(e=>{let[,r]=e;return r.length>0});if(0===r.length)return;let[t]=r[r.length-1],l=Number(t),a=b.current[l];if(!a)return;let i=a.getObjects("rect");if(i.length>0){let e=i[i.length-1];a.remove(e),a.renderAll()}p(e=>{var r,t;let a=[...null!=(r=e.redactions[l])?r:[]],i=a.pop();return i?{...e,redactions:{...e.redactions,[l]:a},redoStack:{...e.redoStack,[l]:[...null!=(t=e.redoStack[l])?t:[],i]}}:e})},className:"rounded-full border border-neutral-800 px-6 py-3 transition hover:bg-neutral-900",children:"Undo Redaction"}),(0,l.jsx)("button",{type:"button",onClick:()=>{var e;let t=Object.entries(r).filter(e=>{let[,r]=e;return r.length>0});if(0===t.length)return;let[l]=t[t.length-1],i=Number(l),n=b.current[i];if(!n)return;let o=[...null!=(e=r[i])?e:[]],s=o.pop();if(!s)return;let d=new a.rw({left:s.x*f,top:s.y*f,width:s.width*f,height:s.height*f,fill:"black",selectable:!1});n.add(d),n.renderAll(),p(e=>{var r;return{...e,redactions:{...e.redactions,[i]:[...null!=(r=e.redactions[i])?r:[],s]},redoStack:{...e.redoStack,[i]:o}}})},className:"rounded-full border border-neutral-800 px-6 py-3 transition hover:bg-neutral-900",children:"Redo Redaction"}),(0,l.jsx)("button",{onClick:g,className:"rounded-full border border-neutral-800 px-6 py-3 transition hover:bg-neutral-900",children:"Export PDF"})]})]}),t&&(0,l.jsx)("div",{className:"container mx-auto flex flex-col gap-y-8 p-8",children:(0,l.jsxs)("div",{className:"flex flex-col gap-y-8",children:[(0,l.jsx)("div",{className:"grid grid-cols-2 gap-8"}),(0,l.jsx)("div",{className:"w-full overflow-hidden rounded-xl border border-neutral-800 shadow-2xl",children:(0,l.jsx)("div",{className:"w-full overflow-auto",children:(0,l.jsx)(d.A,{file:t,onLoadSuccess:e=>{let{numPages:r}=e;return p(e=>({...e,numberOfPages:r}))},children:Array.from({length:s},(e,r)=>(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(c.A,{pageNumber:r+1,scale:f,renderAnnotationLayer:!1,renderTextLayer:!1}),(0,l.jsx)("canvas",{id:"canvas-".concat(r),ref:e=>((e,r)=>{let t;if(!e||b.current[r])return;let l=new a.Hl(e,{selection:!1,renderOnAddRemove:!0});l.setDimensions({width:e.width,height:e.height}),b.current[r]=l;let i=!1,n=0,o=0;l.on("mouse:down",e=>{i=!0;let r=l.getViewportPoint(e.e);n=r.x,o=r.y,t=new a.rw({left:n,top:o,fill:"black",width:0,height:0,selectable:!1}),l.add(t)}),l.on("mouse:move",e=>{if(!i)return;let r=l.getViewportPoint(e.e);t.set({width:r.x-n,height:r.y-o}),l.renderAll()}),l.on("mouse:up",()=>{i=!1;let e={x:t.left/f,y:t.top/f,width:t.width/f,height:t.height/f};p(t=>{var l;return{...t,redactions:{...t.redactions,[r]:[...null!=(l=t.redactions[r])?l:[],e]},redoStack:{...t.redoStack,[r]:[]}}})})})(e,r),width:794*f,height:1123*f,className:"pointer-events-auto absolute top-0 left-0 z-10 h-full w-full"})]},r))})})})]})})]})}},554:(e,r,t)=>{t.d(r,{F:()=>s});var l=t(4513),a=t(5161),i=t(9085),n=t.n(i);let o=e=>{let{title:r="",options:t=[]}=e;return(0,l.jsxs)("div",{className:"group relative inline-block text-left",children:[(0,l.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center gap-1 rounded-md",children:[(0,l.jsx)("span",{children:r}),(0,l.jsx)("span",{className:"text-xs",children:"â–¾"})]}),(0,l.jsx)("div",{className:"invisible absolute right-0 z-50 mt-2 origin-top-right scale-95 transform rounded-md border border-neutral-200 bg-white p-1 text-sm opacity-0 shadow-lg transition-all group-hover:visible group-hover:scale-100 group-hover:opacity-100 dark:border-neutral-700 dark:bg-neutral-900 dark:text-neutral-100",children:t.map(e=>{let{id:r,href:t,label:a}=e;return(0,l.jsx)(n(),{href:t,className:"block rounded px-3 py-2 whitespace-nowrap hover:bg-neutral-100 dark:hover:bg-neutral-800",children:a},r)})})]})},s=()=>(0,l.jsx)("nav",{className:"container mx-auto px-8 py-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"text-xl font-bold",children:(0,l.jsx)(n(),{href:"/",children:a.C})}),(0,l.jsx)("div",{className:"hidden space-x-4 md:flex",children:[{id:"calculator",title:"Calculator",options:[{id:"base",href:"/calc/base",label:"Base"},{id:"crypto",href:"/calc/crypto",label:"Crypto"},{id:"forex",href:"/calc/forex",label:"Forex"},{id:"length",href:"/calc/length",label:"Length"},{id:"roman",href:"/calc/roman",label:"Roman"},{id:"weight",href:"/calc/weight",label:"Weight"}]},{id:"clock",title:"Clock",options:[{id:"pomodoro",href:"/clock/pomodoro",label:"Pomodoro"},{id:"timezones",href:"/clock/timezones",label:"Timezones"}]},{id:"converter",title:"Converter",options:[{id:"code",href:"/converter/code",label:"Code"},{id:"colors",href:"/converter/colors",label:"Colors"},{id:"csv",href:"/converter/csv",label:"CSV"},{id:"json",href:"/converter/json",label:"JSON"},{id:"openapi2postmanv2",href:"/converter/openapi2postmanv2",label:"OpenAPI to PostmanV2"},{id:"strings",href:"/converter/strings",label:"Strings"},{id:"yaml",href:"/converter/yaml",label:"YAML"}]},{id:"editor",title:"Editor",options:[{id:"manifest",href:"/editor/manifest",label:"Manifest"},{id:"markup",href:"/editor/markup",label:"Markup"},{id:"redact",href:"/editor/redact",label:"Redact"}]},{id:"generator",title:"Generator",options:[{id:"qrcode",href:"/generator/qrcode",label:"QRCode"},{id:"uuid",href:"/generator/uuid",label:"UUID"}]},{id:"github",title:"GitHub",options:[{id:"languages",href:"/github/languages",label:"Languages"},{id:"social-preview",href:"/github/preview",label:"Social Preview"}]},{id:"other",title:"Other",options:[{id:"status",href:"/other/status",label:"Status"},{id:"periodic-table",href:"/other/periodic-table",label:"Periodic Table"}]}].map(e=>{let{id:r,title:t,options:a}=e;return(0,l.jsx)(o,{title:t,options:a},r)})})]})})},5140:(e,r,t)=>{t.d(r,{c:()=>a});var l=t(4513);let a=()=>(0,l.jsx)("div",{className:"w-full border-t border-neutral-800"})}}]);